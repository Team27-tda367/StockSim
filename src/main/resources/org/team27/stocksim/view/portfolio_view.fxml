<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox prefHeight="800.0" prefWidth="1400.0" styleClass="root-container" stylesheets="@../css/main.css" 
   xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.team27.stocksim.view.fx.viewControllers.PortfolioViewController">
    
    <!-- Header -->
    <HBox alignment="CENTER_LEFT" styleClass="header-bar, spacing-large">

        <Label text="StonkSim" styleClass="logo"/>

        <Button text="Home" styleClass="btn-ghost" onAction="#onMainView"/>
        <Button text="Portfolio" styleClass="btn-highlighted"/>
        <!-- 
        <Button text="Create Stock" styleClass="btn-ghost" onAction="#onExample"/> -->

        <Region HBox.hgrow="ALWAYS"/>

        <VBox alignment="CENTER_RIGHT" styleClass="spacing-small">
            <Label fx:id="availableBalanceLabel" styleClass="text-medium, text-bold"/>
        </VBox>
    </HBox>
   <BorderPane VBox.vgrow="ALWAYS">
      <center>
         <HBox>
            <children>
                
                <!-- Main Content -->
                <VBox maxWidth="-Infinity" prefHeight="783.0" prefWidth="753.0" styleClass="content-area">
                  <HBox prefHeight="55.0" prefWidth="693.0">
                     <children>
                        <VBox>
                           <children>
                                <Label prefHeight="33.0" prefWidth="126.0" styleClass="title-large" text="Portfolio" />
                           </children>
                        </VBox>
                        <Label alignment="BOTTOM_RIGHT" contentDisplay="RIGHT" prefHeight="36.0" prefWidth="244.0" styleClass="title-medium" text="Pending Orders">
                           <opaqueInsets>
                              <Insets />
                           </opaqueInsets>
                           <HBox.margin>
                              <Insets />
                           </HBox.margin>
                        </Label>
                     </children>
                  </HBox>
                    
                    <!-- Summary Cards -->
                    <HBox alignment="BOTTOM_LEFT" prefHeight="246.0" prefWidth="693.0" styleClass="spacing-large">
                     <VBox prefHeight="197.0" prefWidth="216.0">
                        <children>
                              <!-- Total Value Card -->
                              <VBox prefWidth="250" styleClass="card, spacing-medium">
                                  <Label styleClass="text-small, text-muted" text="Total Value" />
                                  <Label fx:id="totalValueLabel" prefHeight="49.0" prefWidth="183.0" styleClass="title-medium" />
                              <opaqueInsets>
                                 <Insets bottom="20.0" />
                              </opaqueInsets>
                              <VBox.margin>
                                 <Insets bottom="5.0" />
                              </VBox.margin>
                              </VBox>
                              
                                 <!-- Gain/Loss Card -->
                              <VBox prefWidth="250">
                                  <Label prefWidth="79.0" styleClass="text-small, text-muted" text="Total Gain/Loss" />
                                  <Label fx:id="totalGainLossLabel" prefHeight="88.0" prefWidth="158.0" styleClass="title-medium" />
                                  <Label fx:id="totalGainLossPercentLabel" prefHeight="15.0" prefWidth="145.0" styleClass="text-small" />
                              <styleClass>
                                 <String fx:value="card" />
                                 <String fx:value=" spacing-medium" />
                              </styleClass>
                              <VBox.margin>
                                 <Insets bottom="10.0" top="5.0" />
                              </VBox.margin>
                              </VBox>
                        </children>
                     </VBox>
                     <VBox>
                        <HBox.margin>
                           <Insets bottom="10.0" />
                        </HBox.margin>
                        <children>
                           <HBox maxWidth="-Infinity" prefHeight="36.0" prefWidth="495.0">
                              <styleClass>
                                 <String fx:value="panel-header" />
                                 <String fx:value="spacing-medium" />
                              </styleClass>
                              <children>
                                 <Label alignment="CENTER" contentDisplay="CENTER" prefHeight="18.0" prefWidth="80.0" styleClass="text-regular" text="Stock">
                                    <HBox.margin>
                                       <Insets top="10.0" />
                                    </HBox.margin>
                                 </Label>
                                 <Label alignment="CENTER" prefHeight="18.0" prefWidth="155.0" styleClass="text-regular" text="Quantity">
                                    <HBox.margin>
                                       <Insets top="10.0" />
                                    </HBox.margin>
                                 </Label>
                                 <Label alignment="CENTER" prefHeight="18.0" prefWidth="110.0" styleClass="text-regular" text="Amount">
                                    <HBox.margin>
                                       <Insets top="10.0" />
                                    </HBox.margin>
                                 </Label>
                                 <Label alignment="CENTER" prefHeight="18.0" prefWidth="137.0" styleClass="text-regular" text="Price">
                                    <HBox.margin>
                                       <Insets top="10.0" />
                                    </HBox.margin>
                                 </Label>
                              </children>
                              <opaqueInsets>
                                 <Insets top="10.0" />
                              </opaqueInsets>
                              <padding>
                                 <Insets top="10.0" />
                              </padding>
                           </HBox>
                           <ListView fx:id="ordersListView" prefHeight="171.0" prefWidth="504.0" >
                              <styleClass>
                                 <String fx:value="list-view-custom" />
                                 <String fx:value="panel-body" />
                              </styleClass>
                           </ListView>
                        </children>
                     </VBox>
                    </HBox>
                  <Region prefHeight="99.0" prefWidth="709.0" VBox.vgrow="ALWAYS" />
                    
                                      <!-- Holdings Table -->
                    <VBox prefHeight="559.0" prefWidth="709.0" VBox.vgrow="ALWAYS">
                        <Label alignment="CENTER" prefHeight="79.0" prefWidth="173.0" text="Stock Holdings" VBox.vgrow="ALWAYS">
                        <opaqueInsets>
                           <Insets bottom="10.0" />
                        </opaqueInsets>
                        <styleClass>
                           <String fx:value="panel-title" />
                           <String fx:value="stock-title" />
                        </styleClass>
                        <VBox.margin>
                           <Insets bottom="5.0" />
                        </VBox.margin>
                     </Label>
                        
                                          <!-- Table Header -->
                        <HBox maxWidth="-Infinity" prefHeight="36.0" prefWidth="684.0">
                            <Label alignment="CENTER" contentDisplay="CENTER" prefHeight="18.0" prefWidth="152.0" styleClass="text-bold" text="Stock">
                           <HBox.margin>
                              <Insets top="10.0" />
                           </HBox.margin>
                        </Label>
                            <Label alignment="CENTER" prefHeight="18.0" prefWidth="155.0" styleClass="text-bold" text="Quantity">
                           <HBox.margin>
                              <Insets top="10.0" />
                           </HBox.margin>
                        </Label>
                            <Label alignment="CENTER" prefHeight="18.0" prefWidth="110.0" styleClass="text-bold" text="Current Price">
                           <HBox.margin>
                              <Insets top="10.0" />
                           </HBox.margin>
                        </Label>
                            <Label alignment="CENTER" prefHeight="18.0" prefWidth="194.0" styleClass="text-bold" text="Gain/Loss">
                           <HBox.margin>
                              <Insets top="10.0" />
                           </HBox.margin>
                        </Label>
                        <styleClass>
                           <String fx:value="panel-header" />
                           <String fx:value="spacing-medium" />
                        </styleClass>
                        <opaqueInsets>
                           <Insets top="10.0" />
                        </opaqueInsets>
                        <padding>
                           <Insets top="10.0" />
                        </padding>
                        <VBox.margin>
                           <Insets top="10.0" />
                        </VBox.margin>
                        </HBox>
                     <ListView fx:id="positionsListView" pickOnBounds="false" prefHeight="407.0" prefWidth="668.0" stylesheets="@../css/main.css">
                        <styleClass>
                           <String fx:value="list-view-custom" />
                           <String fx:value="panel-body" />
                        </styleClass>
                     </ListView>
                     <opaqueInsets>
                        <Insets />
                     </opaqueInsets>
                     <styleClass>
                        <String fx:value="card" />
                        <String fx:value=" spacing-medium" />
                     </styleClass>
                    </VBox>
                </VBox>
               <VBox alignment="CENTER" prefHeight="717.0" prefWidth="632.0" styleClass="axis" stylesheets="@../css/main.css" HBox.hgrow="ALWAYS">
                  <children>
                     <HBox>
                        <children>
                           <Label alignment="TOP_LEFT" text="Portfolio Performance">
                              <opaqueInsets>
                                 <Insets bottom="10.0" />
                              </opaqueInsets>
                              <styleClass>
                                 <String fx:value="panel-title" />
                                 <String fx:value="stock-title" />
                              </styleClass>
                           </Label>
                        </children>
                     </HBox>
                     <LineChart fx:id="developmentChart" prefHeight="304.0" prefWidth="554.0" stylesheets="@../css/main.css">
                       <xAxis>
                         <CategoryAxis side="BOTTOM" />
                       </xAxis>
                       <yAxis>
                         <NumberAxis side="LEFT" />
                       </yAxis>
                        <padding>
                           <Insets bottom="30.0" left="20.0" right="20.0" top="20.0" />
                        </padding>
                        <styleClass>
                           <String fx:value="card" />
                           <String fx:value="chart-line-symbol" />
                           <String fx:value="chart-series-line" />
                           <String fx:value="panel-body" />
                        </styleClass>
                        <VBox.margin>
                           <Insets right="10.0" top="5.0" />
                        </VBox.margin>
                     </LineChart>
                     <Region prefHeight="41.0" prefWidth="631.0" />
                     <VBox prefHeight="433.0" prefWidth="662.0" styleClass="card">
                        <children>
                           <Label contentDisplay="BOTTOM" prefHeight="49.0" prefWidth="642.0" styleClass="title-large" stylesheets="@../css/main.css" text="Transaction History" VBox.vgrow="SOMETIMES">
                              <padding>
                                 <Insets bottom="5.0" left="10.0" />
                              </padding>
                           </Label>
                           <ListView fx:id="historyList" prefHeight="332.0" prefWidth="579.0" styleClass="list-view-custom" stylesheets="@../css/main.css">
                              <padding>
                                 <Insets right="10.0" />
                              </padding>
                           </ListView>
                        </children>
                        <opaqueInsets>
                           <Insets bottom="20.0" right="20.0" />
                        </opaqueInsets>
                        <VBox.margin>
                           <Insets bottom="10.0" right="10.0" />
                        </VBox.margin>
                     </VBox>
                  </children>
               </VBox>
            </children>
            <opaqueInsets>
               <Insets right="20.0" />
            </opaqueInsets>
         </HBox>
      </center>
   </BorderPane>
</VBox>
